{"version":3,"sources":["webpack:///./src/views/users.vue?6769","webpack:///src/views/users.vue","webpack:///./src/views/users.vue?df5a","webpack:///./src/views/users.vue","webpack:///./src/views/users.vue?c2b8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","staticStyle","on","userFn","model","value","userParams","callback","$$v","$set","expression","slot","$event","dialogFormVisible","ref","ruleForm","rules","submitForm","tableData","scopedSlots","_u","key","fn","scope","changeState","row","id","mg_state","editDialogFormVisible","updata","editRuleForm","updataCheng","del","pagenum","pagesize","totalNum","handleSizeChange","handleCurrentChange","staticRenderFns","name","checkEmail","rule","em","Error","test","checkMobile","phone","query","input3","username","password","email","mobile","required","message","trigger","min","max","validator","computed","methods","$http","get","then","res","console","log","data","users","total","val","bool","put","meta","status","$message","type","msg","formName","$refs","validate","valid","post","resetFields","$confirm","confirmButtonText","cancelButtonText","delete","catch","alert","component"],"mappings":"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","file":"js/chunk-02429a20.a04522a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/index' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"clearable\":\"\",\"placeholder\":\"请输入内容\"},on:{\"clear\":_vm.userFn},model:{value:(_vm.userParams.query),callback:function ($$v) {_vm.$set(_vm.userParams, \"query\", $$v)},expression:\"userParams.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.userFn},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加用户\")])],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.ruleForm.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"mobile\", $$v)},expression:\"ruleForm.mobile\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#409EFF\",\"inactive-color\":\"#DCDFE6\"},on:{\"change\":function($event){return _vm.changeState(scope.row.id, scope.row.mg_state)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"编辑\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){_vm.editDialogFormVisible = true,_vm.updata(scope.row.id)}}})],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogFormVisible},on:{\"update:visible\":function($event){_vm.editDialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editRuleForm.username),callback:function ($$v) {_vm.$set(_vm.editRuleForm, \"username\", $$v)},expression:\"editRuleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editRuleForm.email),callback:function ($$v) {_vm.$set(_vm.editRuleForm, \"email\", $$v)},expression:\"editRuleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editRuleForm.mobile),callback:function ($$v) {_vm.$set(_vm.editRuleForm, \"mobile\", $$v)},expression:\"editRuleForm.mobile\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updataCheng('editRuleForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"删除\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"enterable\":false,\"content\":\"权限\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"icon\":\"el-icon-message\",\"circle\":\"\"}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.userParams.pagenum,\"page-sizes\":[1, 2, 3, 15],\"page-size\":_vm.userParams.pagesize,\"layout\":\" total,sizes, prev, pager, next, jumper\",\"total\":_vm.totalNum},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <!-- 面包屑 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/index' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片 -->\r\n    <el-card class=\"box-card\">\r\n      <div style=\"margin-top: 15px\">\r\n        <!-- 栅格 -->\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <!-- 搜索框 -->\r\n\r\n            <el-input\r\n              @clear=\"userFn\"\r\n              clearable\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"userParams.query\"\r\n              class=\"input-with-select\"\r\n            >\r\n              <el-button\r\n                slot=\"append\"\r\n                @click=\"userFn\"\r\n                icon=\"el-icon-search\"\r\n              ></el-button>\r\n            </el-input>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-button @click=\"dialogFormVisible = true\" type=\"primary\"\r\n              >添加用户</el-button\r\n            >\r\n          </el-col>\r\n          <!-- 添加用户弹框 -->\r\n          <el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible\">\r\n            <el-form\r\n              :model=\"ruleForm\"\r\n              :rules=\"rules\"\r\n              ref=\"ruleForm\"\r\n              label-width=\"100px\"\r\n              class=\"demo-ruleForm\"\r\n            >\r\n              <el-form-item label=\"用户名称\" prop=\"username\">\r\n                <el-input v-model=\"ruleForm.username\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"用户密码\" prop=\"password\">\r\n                <el-input v-model=\"ruleForm.password\"> </el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"ruleForm.email\"> </el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"电话\" prop=\"mobile\">\r\n                <el-input v-model=\"ruleForm.mobile\"> </el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n                >确 定</el-button\r\n              >\r\n            </div>\r\n          </el-dialog>\r\n        </el-row>\r\n        <el-table\r\n          border\r\n          :data=\"tableData\"\r\n          stripe\r\n          style=\"width: 100%; margin-top: 10px\"\r\n        >\r\n          <!-- 索引项 -->\r\n          <el-table-column type=\"index\" label=\"#\" width=\"50\"> </el-table-column>\r\n          <!-- 姓名 -->\r\n          <el-table-column prop=\"username\" label=\"姓名\" width=\"180\">\r\n          </el-table-column>\r\n          <!-- 邮箱 -->\r\n          <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\">\r\n          </el-table-column>\r\n          <!-- 电话 -->\r\n          <el-table-column prop=\"mobile\" label=\"电话\" width=\"180\">\r\n          </el-table-column>\r\n          <!-- 角色 -->\r\n          <el-table-column prop=\"role_name\" label=\"角色\" width=\"180\">\r\n          </el-table-column>\r\n          <!-- 状态 -->\r\n          <el-table-column prop=\"mg_state\" label=\"状态\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <!-- {{ scope.row }} -->\r\n              <el-switch\r\n                @change=\"changeState(scope.row.id, scope.row.mg_state)\"\r\n                v-model=\"scope.row.mg_state\"\r\n                active-color=\"#409EFF\"\r\n                inactive-color=\"#DCDFE6\"\r\n              >\r\n              </el-switch>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 操作-->\r\n          <el-table-column prop=\"mg_state\" label=\"操作\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <!-- {{ scope.row }} -->\r\n              <el-tooltip :enterable=\"false\" content=\"编辑\" placement=\"top\">\r\n                <el-button\r\n                  @click=\"editDialogFormVisible = true,updata(scope.row.id)\"\r\n                  size=\"mini\"\r\n                  type=\"primary\"\r\n                  icon=\"el-icon-edit\"\r\n                  circle\r\n                ></el-button>\r\n              </el-tooltip>\r\n              <!--修改用户 -->\r\n              <el-dialog title=\"修改用户\" :visible.sync=\"editDialogFormVisible\">\r\n                <el-form\r\n                  :model=\"ruleForm\"\r\n                  :rules=\"rules\"\r\n                  ref=\"ruleForm\"\r\n                  label-width=\"100px\"\r\n                  class=\"demo-ruleForm\"\r\n                >\r\n                  <el-form-item label=\"用户名称\" prop=\"username\">\r\n                    <el-input v-model=\"editRuleForm.username\" disabled></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"editRuleForm.email\"> </el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"电话\" prop=\"mobile\">\r\n                    <el-input v-model=\"editRuleForm.mobile\"> </el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                  <el-button @click=\"editDialogFormVisible = false\"\r\n                    >取 消</el-button\r\n                  >\r\n                  <el-button type=\"primary\" @click=\"updataCheng('editRuleForm')\"\r\n                    >确 定</el-button\r\n                  >\r\n                </div>\r\n              </el-dialog>\r\n\r\n              <el-tooltip :enterable=\"false\" content=\"删除\" placement=\"top\">\r\n                <el-button\r\n                  @click=\"del(scope.row.id)\"\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  circle\r\n                ></el-button>\r\n              </el-tooltip>\r\n              <!-- <template>\r\n                <el-button type=\"text\" @click=\"open\"\r\n                  >点击打开 Message Box</el-button\r\n                >\r\n              </template> -->\r\n\r\n              <el-tooltip :enterable=\"false\" content=\"权限\" placement=\"top\">\r\n                <el-button\r\n                  size=\"mini\"\r\n                  type=\"info\"\r\n                  icon=\"el-icon-message\"\r\n                  circle\r\n                ></el-button>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 完整的分页 -->\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"userParams.pagenum\"\r\n          :page-sizes=\"[1, 2, 3, 15]\"\r\n          :page-size=\"userParams.pagesize\"\r\n          layout=\" total,sizes, prev, pager, next, jumper\"\r\n          :total=\"totalNum\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    var checkEmail = (rule, value, callback) => {\r\n      let em = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[A-Za-z0-9_-]+)+$/;\r\n      if (!value) {\r\n        return callback(new Error(\"Email不能为空\"));\r\n      }\r\n      // 验证email类型\r\n      if (em.test(value)) {\r\n        callback();\r\n      } else {\r\n        callback(new Error(\"请输入正确的Email\"));\r\n      }\r\n    };\r\n    var checkMobile = (rule, value, callback) => {\r\n      let phone = /^1[3456789]\\d{9}$/;\r\n      if (!value) {\r\n        return callback(new Error(\"Phone不能为空\"));\r\n      }\r\n      // 验证phone类型\r\n      if (phone.test(value)) {\r\n        callback();\r\n      } else {\r\n        callback(new Error(\"请输入正确的手机号\"));\r\n      }\r\n    };\r\n    return {\r\n      totalNum: 0,\r\n      // 分页绑定数据\r\n      userParams: {\r\n        query: \"\",\r\n        pagenum: 1,\r\n        pagesize: 2,\r\n      },\r\n      value: \"100\",\r\n      input3: \"\",\r\n      tableData: [],\r\n      dialogFormVisible: false,\r\n      editDialogFormVisible: false,\r\n      // 添加绑定的数据\r\n      ruleForm: {\r\n        username: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      editRuleForm:{\r\n         username: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      // 规则\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          {\r\n            min: 3,\r\n            max: 15,\r\n            message: \"长度在 3 到 15 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          {\r\n            min: 3,\r\n            max: 15,\r\n            message: \"长度在 3 到 15 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [{ validator: checkEmail, trigger: \"blur\" }],\r\n        mobile: [{ validator: checkMobile, trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.userFn();\r\n    this.changeState();\r\n    // this.submitForm();\r\n    // this.del()\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    userFn() {\r\n      this.$http\r\n        .get(\r\n          `https://www.liulongbin.top:8888/api/private/v1/users?query=${this.userParams.query}&pagenum=${this.userParams.pagenum}&pagesize=${this.userParams.pagesize}`\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data.data);\r\n          this.tableData = res.data.data.users;\r\n          this.totalNum = res.data.data.total;\r\n        });\r\n    },\r\n    //   每页的条数\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.userParams.pagesize = val;\r\n      this.userFn();\r\n    },\r\n    //   当前的页数\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.userParams.pagenum = val;\r\n      this.userFn();\r\n    },\r\n    // 状态修改\r\n    changeState(id, bool) {\r\n      // console.log(id,bool)\r\n      this.$http\r\n        .put(\r\n          `https://www.liulongbin.top:8888/api/private/v1/users/${id}/state/${bool}`\r\n        )\r\n        .then((res) => {\r\n          if (res.data.meta.status == 200) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: res.data.meta.msg,\r\n            });\r\n          }\r\n          console.log(res);\r\n        });\r\n    },\r\n\r\n    // 提交用户\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        this.$http\r\n          .post(\r\n            \"https://www.liulongbin.top:8888/api/private/v1/users\",\r\n            this.ruleForm\r\n          )\r\n          .then((res) => {\r\n            console.log(res);\r\n            if (valid) {\r\n              if (res.data.meta.status == 201) {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: res.data.meta.msg,\r\n                });\r\n                this.dialogFormVisible = false;\r\n                this.ruleForm = {\r\n                  username: \"\",\r\n                  password: \"\",\r\n                  email: \"\",\r\n                  mobile: \"\",\r\n                };\r\n                this.userFn();\r\n              }\r\n            } else {\r\n              console.log(\"error submit!!\");\r\n              return false;\r\n            }\r\n          });\r\n      });\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    // del() {\r\n    //   this.$http\r\n    //     .delete(\"https://www.liulongbin.top:8888/api/private/v1/users/1068\")\r\n    //     .then((res) => {\r\n    //       console.log(res);\r\n    //     });\r\n    // },\r\n\r\n    // 删除\r\n    del(id) {\r\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n\r\n          this.$http\r\n            .delete(\r\n              `https://www.liulongbin.top:8888/api/private/v1/users/${id}`\r\n            )\r\n            .then((res) => {\r\n              console.log(res);\r\n              this.userFn();\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    // 点击修改内容\r\n    updata(data) {\r\n        this.$http\r\n            .put(`https://www.liulongbin.top:8888/api/private/v1/users/${data}`)\r\n            .then((res) => {\r\n              console.log(res);\r\n              console.log(res.data.data)\r\n              this.editRuleForm.username = res.data.data.username\r\n            })\r\n    },\r\n    updataCheng(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            alert('submit!');\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.box-card {\r\n  margin: 15px;\r\n}\r\n.el-breadcrumb {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=7dca682a&scoped=true&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./users.vue?vue&type=style&index=0&id=7dca682a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dca682a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=style&index=0&id=7dca682a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=style&index=0&id=7dca682a&scoped=true&lang=css&\""],"sourceRoot":""}